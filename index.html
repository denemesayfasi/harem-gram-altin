
<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<title>GRAM ALTIN — Anlık Fiyat</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { font-family: Arial, sans-serif; margin: 24px; color: #222; }
  .card { max-width: 420px; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; }
  .row { display: flex; justify-content: space-between; margin: 8px 0; }
  .label { color: #6b7280; }
  .value { font-weight: 700; font-size: 1.25rem; }
  .time { margin-top: 8px; font-size: 0.9rem; color: #6b7280; }
</style>
</head>
<body>
<h1>GRAM ALTIN</h1>
<div class="card">
  <div class="row"><div class="label">Alış</div><div class="value" id="alis">—</div></div>
  <div class="row"><div class="label">Satış</div><div class="value" id="satis">—</div></div>
  <div class="time" id="tarih">Son güncelleme: —</div>
</div>

<script>
// Vercel deploy olduktan sonra BURAYI kendi Vercel domaininizle güncelleyeceksiniz:
const API = 'https://YOUR_VERCEL_DOMAIN/api/altin';

async function loadGram() {
  try {
    const res = await fetch(API, { cache: 'no-store' });
    if (!res.ok) throw new Error('HTTP ' + res.status);
    const data = await res.json();
    document.getElementById('alis').textContent  = data.alis ?? '—';
    document.getElementById('satis').textContent = data.satis ?? '—';
    document.getElementById('tarih').textContent = 'Son güncelleme: ' + (data.tarih ?? '—') + ` (${data.key})`;
  } catch (e) {
    console.error(e);
  }
}

// İlk yükleme ve 30 sn’de bir yenile
loadGram();
setInterval(loadGram, 30_000);
</script>
</body>
</html>
