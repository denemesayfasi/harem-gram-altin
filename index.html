
<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<title>GRAM ALTIN — Anlık Fiyat</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { font-family: Arial, sans-serif; margin: 24px; }
  .card { max-width: 400px; border: 1px solid #ccc; border-radius: 8px; padding: 16px; }
  .row { display: flex; justify-content: space-between; margin: 8px 0; }
  .label { color: #555; }
  .value { font-weight: bold; font-size: 1.2rem; }
</style>
</head>
<body>
<h1>GRAM ALTIN</h1>
<div class="card">
  <div class="row"><div class="label">Alış</div><div class="value" id="alis">—</div></div>
  <div class="row"><div class="label">Satış</div><div class="value" id="satis">—</div></div>
  <div class="row"><div class="label">Son Güncelleme</div><div class="value" id="tarih">—</div></div>
</div>

<script>
const API = '/.netlify/functions/altin'; // Netlify fonksiyon adresi

async function loadGram() {
  try {
    const res = await fetch(API);
    const data = await res.json();
    document.getElementById('alis').textContent = data.alis;
    document.getElementById('satis').textContent = data.satis;
    document.getElementById('tarih').textContent = data.tarih;
  } catch (e) {
    console.error(e);
  }
}

loadGram();
setInterval(loadGram, 30000);
</script>
</body>
</html>
